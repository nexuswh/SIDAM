<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>Kohsaka Macro Commands</title>
	<link rel="stylesheet" href="cmdlist.css" type="text/css" />
	<link rel="stylesheet" href="cmdlist.en.css" type="text/css" />
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" type="text/javascript"></script>
	<script src="cmdlist.js" type="text/javascript"></script>
	<script src="../ga.js" type="text/javascript"></script>
</head>

<body>

<h1>SIDAM Commands</h1>

<div id="main">

<dl>
	<dt id="KMColor">KMColor([<span class="s op">grfName</span>, <span class="s op">imgName</span>, <span class="s op">ctable</span>, <span class="v op">rev</span>, <span class="v op">log</span>, <span class="w op">minRGB</span>, <span class="w op">maxRGB</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">イメージにカラーテーブルを適用する.</span>
		<span lang="en">Apply a color table to an image.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">grfName</span> <span class="type">[string]</span>:</span>
		<span lang="ja">イメージが表示されているグラフの名前. 省略時は一番上のグラフ.</span>
		<span lang="en">The name of the graph in which the image is displayed. Default is the top graph.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">imgName</span> <span class="type">[string]</span>:</span>
		<span lang="ja">イメージの名前. 省略時は一番上のイメージ.</span>
		<span lang="en">The name of the image. Default is the top image of the graph.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">ctable</span> <span class="type">[string]</span>:</span>
		<span lang="ja">カラーテーブルの名前. 省略時はパネル表示.</span>
		<span lang="en">The name of the color table. A panel to select a color table is displayed when this parameter is omitted.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">rev</span> <span class="type">[int]</span>:</span>
		<span lang="ja">
			bit 0: 逆順にする. 例えば, 白&#8594;黒のテーブルを黒&#8594;白にする.<br />
			bit 1: 反転する. 例えば, (r, g, b)=(0.2, 0.4, 1)を(r, g, b)=(0.8, 0.6, 0)にする.<br />
			省略時は0.</span>
		<span lang="en">
			bit 0: Reverse. For example, change white&#8594;black to black&#8594;white.<br />
			bit 1: Invert. For example, change (r, g, b)=(0.2, 0.4, 1) to (r, g, b)=(0.8, 0.6, 0).<br />
			Default is 0.
		</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">log</span> <span class="type">[int]</span>:</span>
		<span lang="ja">ログスケール. 省略時は現在値.</span>
		<span lang="en">Log scale. Default is the present value.</span>
	</dd>
	<dd>
		<span class="param"><span class="w op">minRGB</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">Before first Color. 省略時は現在値.</span>
		<span lang="en">Before first Color. Default is the present value.</span>
	</dd>
	<dd>
		<span class="param"><span class="w op">maxRGB</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">After last Color. 省略時は現在値.</span>
		<span lang="en">After last Color. Default is the present value.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[int]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0.</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMCorrelation">KMCorrelation(<span class="w">w1</span>, [<span class="w op">w2</span>, <span class="s op">result</span>, <span class="v op">subtract</span>, <span class="v op">normalize</span>, <span class="v op">origin</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">相関関数を求める. corr[p][q] = &#931;<sub>i,j</sub> w1[i][j]&#183; w2[i-p][j-q]</span>
		<span lang="en">Get correlation function. corr[p][q] = &#931;<sub>i,j</sub> w1[i][j]&#183; w2[i-p][j-q]</span>
	</dd>
	<dd>
		<span class="param"><span class="w">w1</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となるウエーブ (2D/3D).</span>
		<span lang="en">The source wave (2D/3D).</span>
	</dd>
	<dd>
		<span class="param"><span class="w op">w2</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となるウエーブ (2D/3D). <span class="w op">w1</span> &#8800; <span class="w op">w2</span>の場合、<span class="w op">w1</span>と<span class="w op">w2</span>の相互相関を求める. 省略時は<span class="w op">w1</span>の自己相関を求める.</span>
		<span lang="en">The source wave (2D/3D). Compute cross-correlation between <span class="w op">w1</span> and <span class="w op">w2</span> when <span class="w op">w1</span> &#8800; <span class="w op">w2</span>. When this is omitted, compute auto-correlation of <span class="w op">w1</span>.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">result</span> <span class="type">[string]</span>:</span>
		<span lang="ja">結果ウエーブの名前. 省略時は&#34;_Corr&#34;が入力ウエーブの名前の後ろについたもの.</span>
		<span lang="en">The name of the destination wave. Default is the name of <span class="w op">w1</span> followed by &#34;_Corr&#34;.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">subtract</span> <span class="type">[int]</span>:</span>
		<span lang="ja">平均値を引いたものに対して計算を行う(1), そのまま行う(0), 省略時は1.</span>
		<span lang="en">Subtract the average value from the source wave(s) before computing correlation, yes (1), no (0). Default is 1.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">normalize</span> <span class="type">[int]</span>:</span>
		<span lang="ja">計算後に規格化する(1), しない(0), 省略時は1.</span>
		<span lang="en">Normalize after computing correlation, yes (1), no (0). Default is 1.
	</dd>
	<dd>
		<span class="param"><span class="v op">origin</span> <span class="type">[int]</span>:</span>
		<span lang="ja">
			<span class="w op">w1</span>, <span class="w op">w2</span>が両方とも3Dの時に有効.<br />
			0: 対応するレイヤー同士の相関関数を求める. <span class="w op">w1</span>と<span class="w op">w2</span>のレイヤー数は同じである必要がある. 出力結果は3Dウエーブ.<br />
			1: 全てのレイヤーに組み合わせについて相関関数の原点における値を求める. 出力結果は2Dウエーブ.<br />
			省略時は0.
		</span>
		<span lang="en">
			Effective when both <span class="w op">w1</span> and <span class="w op">w2</span> are 3D.<br />
			0: Compute correlation function between corresponding layers. Number of layers must be the same for <span class="w op">w1</span> and <span class="w op">w2</span>. The destination wave is 3D.<br />
			1: Plot the value at the origin of correlation function between any possible combinations of two layers. The destination wave is 2D.<br />
			Default is 0.
		</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[int]</span>:</span>
		<span lang="ja">
			bit 0: 履歴欄にコマンドを出力する(1), しない(0).<br />
			bit 1: 2Dウエーブの相互相関関数を求めた時、結果ウエーブの最大値とそれを示す座標を履歴欄に出力する(1), しない(0).<br />
			省略時は0.
		</span>
		<span lang="en">
			bit 0: Print this command in the history area, no (0), yes (1).<br />
			bit 1: Print the maximum value and its coordinates of the destination wave in the history area when compute cross-correlation between 2D waves.<br />
			Default is 0.
		</span>
	</dd>
</dl>

<dl>
	<dt id="KMDisplay">KMDisplay([<span class="w op">w</span>, <span class="v op">style</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">ウエーブを表示する.</span>
		<span lang="en">Display a wave.</span>
	</dd>
	<dd>
		<span class="param"><span class="w op">w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">表示対象となるウエーブ(1D/2D/3D). 省略時はカレントデータフォルダにあるウエーブを選択するためのパネルを表示する.</span>
		<span lang="en">The source wave to be displayed (1D/2D/3D). A panel to choose a wave in the current datafolder is displayed when this parameter is omitted.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0.</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMFFT">KMFFT(<span class="w">w</span>, [<span class="s op">result</span>, <span class="s op">win</span>, <span class="v op">out</span>, <span class="v op">subtract</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">高速フーリエ変換を求める.</span>
		<span lang="en">Compute fast Fourier transform.</span>
	</dd>
	<dd>
		<span class="param"><span class="w">w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となるウエーブ(2D/3D). 省略時は、カレントデータフォルダに計算可能なウエーブがあれば、それを選択するためのパネルを表示する.</span>
		<span lang="en">The source wave (2D/3D). When omitted, a panel to choose a wave in the current datafolder is displayed if a computable wave exists.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">result</span> <span class="type">[string]</span>:</span>
		<span lang="ja">結果ウエーブの名前. 省略時は&#34;_FFT&#34;が入力ウエーブの名前の後ろについたもの.</span>
		<span lang="en">The name of the destination wave. Default is the name of the source wave followed by &#34;_FFT&#34;.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">win</span> <span class="type">[string]</span>:</span>
		<span lang="ja">窓関数. Hanning, Hamming, Bartlett, Blackman. 省略時は窓関数を使用しない.</span>
		<span lang="en">Window function. Hanning, Hamming, Bartlett, and Blackman. Default is no window.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">out</span> <span class="type">[int]</span>:</span>
		<span lang="ja">出力形式. complex (1), real (2), magnitude (3), magnitude squared (4), phase (5), imaginary (6). 省略時は3.</span>
		<span lang="en">The output. (1), real (2), magnitude (3), magnitude squared (4), phase (5), and imaginary (6). Default is 3.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">subtract</span> <span class="type">[int]</span>:</span>
		<span lang="ja">平均値を引いたものに対して計算を行う(1), そのまま行う(0), 省略時は0.</span>
		<span lang="en">Subtract the average value from the source wave(s) before computing correlation, yes (1), no (0). Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[int]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMFilter">KMFilter(<span class="w">w</span>, <span class="w">paramw</span>, [<span class="s op">result</span>, <span class="v op">invert</span>, <span class="v op">endeffect</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">フーリエフィルタを実行する</span>
		<span lang="en">Apply Fourier filters.</span>
	</dd>
	<dd>
		<span class="param"><span class="w">w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となる2D/3Dウエーブ.</span>
		<span lang="en">The original 2D/3D wave to be filtered</span>
	</dd>
	<dd>
		<span class="param"><span class="w">paramw</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">n種類のフィルタを定義するための(7,n)ウエーブ. 1行の内容は, {p0, q0, n0, p1, q1, n1, HWHM} となる.</span>
		<span lang="en">A (7,n) wave to define n filters. A row is {p0, q0, n0, p1, q1, n1, HWHM}.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">result</span> <span class="type">[string]</span>:</span>
		<span lang="ja">結果ウエーブの名前, 省略時は&#34;_flt&#34;が入力ウエーブの名前の後ろについたもの.</span>
		<span lang="en">The name of the destination wave. Default is the name of the source wave followed by &#34;_flt&#34;.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">invert</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">フィルタを反転する(1), しない(0), 省略時は0</span>
		<span lang="en">Invert a filter(s), yes (1), no (0). Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">endeffect</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">端の扱い. 0: bounce, 1: wrap, 2: zero, 3: repeat. 省略時は1.</span>
		<span lang="en">End effect. 0: bounce, 1: wrap, 2: zero, 3: repeat. Default is 1.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMFourierSym">KMFourierSym(<span class="w">w</span>, <span class="w">q1w</span>, <span class="w">q2w</span>, <span class="v">sym</span>, [<span class="v op">shear</span>, <span class="v op">endeffect</span>, <span class="s op">result</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">フーリエ変換像を対称化する</span>
		<span lang="en">Symmetrize an FFT image.</span>
	</dd>
	<dd>
		<span class="param"><span class="w">w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となる2D/3Dウエーブ.</span>
		<span lang="en">The original 2D/3D wave to be filtered</span>
	</dd>
	<dd>
		<span class="param"><span class="w">q1w</span>, <span class="w">q2w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">対称化の基点となるFFT像上の点の座標(ピクセル)と対応する実空間上での理想長さ. {p, q, a}</span>
		<span lang="en">Pixel coordinates of a point to be used for symmetrization and corresponding ideal length in real space. {p, q, a}</span>
	</dd>
	<dd>
		<span class="param"><span class="v">sym</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">対称性. 1: 2mm, 2: 3, 3: 3m, 4: 4, 5: 4mm.</span>
		<span lang="en">Symmetry. 1: 2mm, 2: 3, 3: 3m, 4: 4, 5: 4mm.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">shear</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">シアー方向. 0: x, 1: y. 省略時は0</span>
		<span lang="en">Shear direction. 0: x, 1: y. Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">endeffect</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">端の扱い. 0: bounce, 1: wrap, 2: zero, 3: repeat. 省略時は2.</span>
		<span lang="en">End effect. 0: bounce, 1: wrap, 2: zero, 3: repeat. Default is 2.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">result</span> <span class="type">[string]</span>:</span>
		<span lang="ja">結果ウエーブの名前, 省略時は&#34;_sym&#34;が入力ウエーブの名前の後ろについたもの.</span>
		<span lang="en">The name of the destination wave. Default is the name of the source wave followed by &#34;_sym&#34;.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMHistogram">KMHistogram(<span class="w">w</span>, [<span class="s op">result</span>, <span class="v op">startz</span>, <span class="v op">endz</span>, <span class="v op">deltaz</span>, <span class="v op">bins</span>, <span class="v op">cumulative</span>, <span class="v op">normalize</span>, <span class="df op">dfr</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">ヒストグラムを求める</span>
		<span lang="en">Make histogram.</span>
	</dd>
	<dd>
		<span class="param"><span class="w">w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となるウエーブ (2D/3D). 3Dウエーブの場合には、ウエーブの値とz値についての2Dウエーブを出力する.</span>
		<span lang="en">The source wave (2D/3D). If this wave is 3D, the destination wave is 2D about data values and z-values of the source wave.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">result</span> <span class="type">[string]</span>:</span>
		<span lang="ja">結果ウエーブの名前. 省略時は&#34;h_&#34;が入力ウエーブの名前の前についたもの</span>
		<span lang="en">The name of the destination wave. Default is &#34;h_&#34; + the name of the source wave.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">startz</span>, <span class="v op">endz</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">ヒストグラムの最小, 最大. 省略時は入力ウエーブの最小値, 最大値</span>
		<span lang="en">The minimum and the maximum of the histogram, respectively. Default is the minimum and the maximum of the source wave.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">deltaz</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">ヒストグラムのステップ幅. 省略時は<span class="v op">endz</span>が使われる. (<span class="v op">endz</span> と <span class="v op">deltaz</span> の両方が指定されている場合にはエラー)</span>
		<span lang="en">The step size of the histogram. When this parameter is omitted, <span class="v op">endz</span> is used. (Do not substitute both of <span class="v op">endz</span> and <span class="v op">deltaz</span>.)</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">bins</span> <span class="type">[int]</span>:</span>
		<span lang="ja">ヒストグラムのステップ数. 省略時は64.</span>
		<span lang="en">The number of steps of the histogram. Default is 64.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">cumulative</span> <span class="type">[int]</span>:</span>
		<span lang="ja">通常ヒストグラム (0), 累積ヒストグラム(1), 省略時は0</span>
		<span lang="en">Normal histogram (0), cumulative histogram (1). Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">normalize</span> <span class="type">[int]</span>:</span>
		<span lang="ja">規格化せず (0), 規格化する (1), 省略時は1</span>
		<span lang="en">Normalize the histogram, yes (1), no (0). Default is 1.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">cmplxmode</span> <span class="type">[int]</span>:</span>
		<span lang="ja">複素数ウエーブに対する実行対象 振幅(0), 実部(1), 虚部(2), 位相(3), 省略時は0</span>
		<span lang="en">For a complex wave, magnitude (0), real (1), imaginary (2), phase (3). Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="df op">dfr</span> <span class="type">[DFREF]</span>:</span>
		<span lang="ja">結果ウエーブの出力先. 省略時は入力ウエーブと同じデータフォルダ.</span>
		<span lang="en">Data folder where the resultant wave will be saved. Default is the same data folder where the source wave is.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[int]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMLineProfile">KMLineProfile(<span class="w">w</span>, <span class="v">p1</span>, <span class="v">q1</span>, <span class="v">p2</span>, <span class="v">q2</span>, [<span class="s op">result</span>, <span class="v op">width</span>, <span class="v op">output</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">断面図を求める.</span>
		<span lang="en">Get line profile.</span>
	</dd>
	<dd>
		<span class="param"><span class="w">w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となるウエーブ (2D/3D).</span>
		<span lang="en">The source wave (2D/3D).</span>
	</dd>
	<dd>
		<span class="param"><span class="v">p1</span>, <span class="v">q1</span>, <span class="v">p2</span>, <span class="v">q2</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">開始(1)・終了(2)点の座標(p, q).</span>
		<span lang="en">The coordinates (p and q) of the starting (1) and ending (2) points.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">result</span> <span class="type">[string]</span>:</span>
		<span lang="ja">結果ウエーブの名前. 省略時は&#34;W_ImageLineProfile&#34;.</span>
		<span lang="en">The name of the destination wave(s). Default is &#34;W_ImageLineProfile&#34;.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">width</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">断面図取得の幅. (詳細はIgorヘルプの&#34;ImageLineProfile&#34;の項を参照.) 省略時は0.</span>
		<span lang="en">The width of the line profile. (See also &#34;ImageLineProfile&#34; in the help of Igor Pro.) Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">output</span> <span class="type">[int]</span>:</span>
		<span lang="ja">
			bit 0: サンプリング点を記録したウエーブを出力する(1), しない(0).<br />
			bit 1: width &#62; 0 の時に標準偏差ウエーブを出力する(1), しない(0).<br />
			省略時は0
		</span>
		<span lang="en">
			bit 0: Save the actual locations of the profile points, yes (1), no (0).<br />
			bit 1: Save a standard deviation for each profile point, yes (1), no (0).<br />
			Default is 0.
		</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[int]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMLineSpectra">KMLineSpectra(<span class="w">w</span>, <span class="v">p1</span>, <span class="v">q1</span>, <span class="v">p2</span>, <span class="v">q2</span>, [<span class="s op">result</span>, <span class="v op">mode</span>, <span class="v op">output</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">直線に沿ってスペクトルを表示する.</span>
		<span lang="en">Display spectra along a line.</span>
	</dd>
	<dd>
		<span class="param"><span class="w">w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となる3Dウエーブ.</span>
		<span lang="en">The source wave.</span>
	</dd>
	<dd>
		<span class="param"><span class="v">p1</span>, <span class="v">q1</span>, <span class="v">p2</span>, <span class="v">q2</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">開始(1)・終了(2)点の座標(p, q).</span>
		<span lang="en">The coordinates (p and q) of the starting (1) and ending (2) points.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">result</span> <span class="type">[string]</span>:</span>
		<span lang="ja">結果ウエーブの名前. 出力ウエーブが1次元の場合はこの後に番号がつく. 省略時は、入力ウエーブの名前(1次元の場合)、入力ウエーブの名前+&#34;_ls&#34;(2次元の場合)</span>
		<span lang="en">The name of the destination wave(s). When 1D waves are saved, numbers follow the name given by this parameter. Default is the name of the source wave (1D), and the name of the source wave followed by &#34;_ls&#34; (2D).</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">mode</span> <span class="type">[int]</span>:</span>
		<span lang="ja">
			スペクトルを取得する方法.<br />
			0: 軌跡が通るピクセルからは全てスペクトルを取り出す.<br />
			1: 軌跡の線分の角度に応じて, x, yのどちらかは内挿する.<br />
			2: ImageLineProfileを用いる. 始めに各レイヤーの断面をImageLineProfileを用いて取得し、その後で指定された点における値を集めてスペクトルを構成する.<br />
			省略時は0.<br />
			<img src="KMLineSpectra.png" alt="modeの説明"/>
		</span>
		<span lang="en">
			How to get spectra.<br />
			0: Get from all pixels on which the trajectory line is.<br />
			1: Interpolate in either x or y direction, depending on the angle of the trajectory line.<br />
			2: Use ImageLineProfile. Take line profile of each layer by ImageLineProfile, collect values of the each profile at a given point, and get a spectra at the point.<br />
			Default is 0.<br />
			<img src="KMLineSpectra.png" alt="explanation of mode"/>
		</span>

	</dd>
	<dd>
		<span class="param"><span class="v op">output</span> <span class="type">[int]</span>:</span>
		<span lang="ja">サンプリング点を記録したウエーブを出力する(1), しない(0). ウエーブの名前はresult+"X", result+"Y"になる. 省略時は0.</span>
		<span lang="en">Save the actual locations of the spectrum waves, yes (1), no (0). The name of the location wave is <span class="s op">result</span>+&#34;X&#34; and <span class="s op">result</span>+&#34;Y&#34;. Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[int]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMLoadData">KMLoadData(<span class="s">pathStr</span>, [<span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">測定データを読み込む.</span>
		<span lang="en">Load measurement data.</span>
	</dd>
	<dd>
		<span class="param"><span class="s">pathStr</span> <span class="type">[string]</span>:</span>
		<span lang="ja">読み込むファイルへの絶対パス. フォルダへの絶対パスが渡された場合には、そのフォルダ以下にあるすべてのファイルを読み込む.</span>
		<span lang="en">The absolute path of the file to be loaded. If absolute path of a folder is specified, all files in the folder are loaded.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMRange">KMRange([<span class="s op">grfName</span>, <span class="s op">imgName</span>, <span class="v op">zminmode</span>, <span class="v op">zmaxmode</span>, <span class="v op">zmin</span>, <span class="v op">zmax</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">イメージのz値範囲を設定する.</span>
		<span lang="en">Set the range of z values of an image.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">grfName</span> <span class="type">[string]</span>:</span>
		<span lang="ja">イメージが表示されているグラフの名前. 省略時は一番上のグラフ.</span>
		<span lang="en">The name of the graph in which the image is displayed. Default is the top graph.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">imgName</span> <span class="type">[string]</span>:</span>
		<span lang="ja">イメージの名前. 省略時は一番上のイメージ.</span>
		<span lang="en">The name of the image. Default is the top image of the graph.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">zminmode</span>, <span class="v op">zmaxmode</span> <span class="type">[int]</span>:</span>
		<span lang="ja">z範囲の値のモード, auto (0), fix (1), sigma (2), cut (3), 省略時は1</span>
		<span lang="en">Mode of z-range, auto (0), fix (1), sigma (2), cut (3). Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">zmin</span>, <span class="v op">zmax</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">z範囲の値. 意味はモードによる.</span>
		<span lang="en">Value of z-range. Meaning of the value depends on the mode.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[int]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMSubtraction">KMSubtraction(<span class="w">w</span>, [<span class="w op">roi</span>, <span class="v op">mode</span>, <span class="v op">order</span>, <span class="v op">direction</span>, <span class="v op">index</span>, <span class="s op">result</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">ウエーブから平面などを差し引く.</span>
		<span lang="en">Subtract a plane etc. from a wave.</span>
	</dd>
	<dd>
		<span class="param"><span class="w">w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となるウエーブ(2D/3D).</span>
		<span lang="en">The source wave (2D/3D).</span>
	</dd>
	<dd>
		<span class="param"><span class="w op">roi</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">平面除去の基準とする領域. <span class="v op">mode</span> = 0 かつ <span class="v op">order</span> = 1 のとき有効.</span>
		<span lang="en">Region where coefficients of plane subtraction are calculated. This is effective for <span class="v op">mode</span> = 0 and <span class="v op">order</span> = 1.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">mode</span> <span class="type">[int]</span>:</span>
		<span lang="ja">
			0: plane (2D/3D). 多項式を差し引く. 3Dウエーブの場合は各レイヤー毎に実行する.<br />
			1: line (2D/3D). 各列あるいは各行毎に平均値または直線を差し引く.<br />
			2: layer (3D). あるレイヤーを他のレイヤーから差し引く.<br />
			3: phase (complex 3D). あるレイヤーの位相を他のレイヤーから差し引く.<br />
			4: exp (2D). 指数関数と平面を差し引く.<br />
			5: log (2D). 対数関数と平面を差し引く.<br />
			4, 5はコンダクタンスマップと同時に得たトポにあるz方向のドリフトを補正することを意図している. 省略時は0.
		</span>
		<span lang="en">
			0: plane (2D/3D). Subtract polynomial. When the source wave is 3D, subtraction is done about each layer.<br />
			1: line (2D/3D). Subtract average or line from each row or column.<br />
			2: layer (3D). Subtract a layer from other layers.<br />
			3: phase (complex 3D). Subtract phase of a layer from other layers.<br />
			4: exp (2D). Subtract an exponential function(s) and a plane.<br />
			5: log (2D). Subtract a logarithmic funciton and a plane.<br />
			4 and 5 are implemented to correct z-directional drift of topographic images simultaneously taken with conductance maps. Default is 0.
		</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">order</span> <span class="type">[variable]</span>:</span>
		<span lang="ja"><span class="v op">mode</span> = 0, 1 のときには差し引く平面または直線の次元. 省略時は、<span class="v op">mode</span> = 0なら1, <span class="v op">mode</span> = 1なら0.<br/>
		<span class="v op">mode</span> = 4 のときには指数関数の個数. 0なら1つ, 1なら2つ. 省略時は0.</span>
		<span lang="en">For <span class="v op">mode</span> = 0 or 1, order of the plane or the line to be subtracted. Default is 1 for <span class="v op">mode</span> = 0, and 0 for <span class="v op">mode</span> = 1.<br />
		For <span class="v op">mode</span> = 4, number of exponential functions. <span class="v op">order</span> = 0 for single exponential, and 1 for double. Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">direction</span> <span class="type">[variable]</span>:</span>
		<span lang="ja"><span class="v op">mode</span> = 1 のときには 0:row, 1:column. 省略時は0.<br />
		<span class="v op">mode</span> = 4, 5 のときには<br />
		bit 0: slow scan方向, 0: x, 1: y<br />
		bit 1: x方向のスキャン方向, 0: 順(左から右), 1: 逆<br />
		bit 2: y方向のスキャン方向, 0: 順(下から上), 1: 逆<br />
		省略時は0.</span>
		<span lang="en">For <span class="v op">mode</span> = 1, 0: row, 1: column. Default is 0.<br />
		For <span class="v op">mode</span> = 4 and 5,<br />
		bit 0: slow-scan direction, 0: x, 1: y<br />
		bit 1: x-scan direction, 0: left to right, 1: right to left<br />
		bit 2: y-scan direction, 0: bottom to top, 1: top to bottom<br />
		Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">index</span> <span class="type">[int]</span>:</span>
		<span lang="ja">差し引くレイヤーのインデックス. <span class="v op">mode</span> = 2 (layer subtraction)のときに有効. 省略時は0.</span>
		<span lang="en">The index number of the layer to be subtracted. This is effective for <span class="v op">mode</span> = 2 (layer subtraction). Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">result</span> <span class="type">[string]</span>:</span>
		<span lang="ja">結果ウエーブの名前. 入力ウエーブの名前と同じ時、あるいは省略時は、入力ウエーブが上書きされる.</span>
		<span lang="en">The name of destination wave. When this is the same as that of the source wave or is not specified (empty), the source wave is overwritten.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[int]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMSyncAxisRange">KMSyncAxisRange(<span class="s">syncWinList</span>, [<span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">複数のグラフの軸範囲を同期させる.</span>
		<span lang="en">Syncronize axis ranges of multiple graphs.</span>
	</dd>
	<dd>
		<span class="param"><span class="s">syncWinList</span> <span class="type">[string]</span>:</span>
		<span lang="ja">同期させるグラフの名前のリスト. リストに含まれている全てのグラフが既に同期されている場合には、同期を解除する.</span>
		<span lang="en">List of names of graphs to be synchronized. If all graphs in the list are already synchronized, the synchronization is canceled.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0.</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMSyncCursor">KMSyncCursor(<span class="s">syncWinList</span>, <span class="v">mode</span>)</dt>
	<dd class="description">
		<span lang="ja">複数のグラフ内のカーソルが同期して動くようにする.</span>
		<span lang="en">Synchronize cursors in multiple graphs.</span>
	</dd>
	<dd>
		<span class="param"><span class="s">syncWinList</span> <span class="type">[string]</span>:</span>
		<span lang="ja">対象となるグラフ名のリスト. リストに含まれている全てのLayerViewerが既に同期されている場合には、同期を解除する.</span>
		<span lang="en">The list of the graphs on which the cursors to be synchronized are displayed. If all LayerViewers in the list are already synchronized, the synchronization is canceled.</span>
	</dd>
	<dd>
		<span class="param"><span class="v">mode</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">-1: パネル表示, 0: indexで同期, 1: x-valueが同じになるように同期.</span>
		<span lang="en">-1: Display a panel, 0: Synchronize on index, 1: Synchronize on x value.</span>
	</dd>
</dl>

<dl>
	<dt id="KMSyncLayer">KMSyncLayer(<span class="s">syncWinList</span>, [<span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">複数のLayerViewerのindexを同期させる.</span>
		<span lang="en">Syncronize layer index of multiple LayerViewers.</span>
	</dd>
	<dd>
		<span class="param"><span class="s">syncWinList</span> <span class="type">[string]</span>:</span>
		<span lang="ja">同期させるLayerViewerの名前のリスト. リストに含まれている全てのLayerViewerが既に同期されている場合には、同期を解除する.</span>
		<span lang="en">List of names of LayerViewers to be synchronized. If all LayerViewers in the list are already synchronized, the synchronization is canceled.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0.</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMTraceColor">KMTraceColor([<span class="s op">grfName</span>, <span class="s op">clrTab</span>, <span class="st op">clr</span>])</dt>
	<dd class="description">
		<span lang="ja">グラフ上の表示されているトレースの色を設定する.</span>
		<span lang="en">Set a color(s) to displayed traces on a graph</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">grfName</span> <span class="type">[string]</span>:</span>
		<span lang="ja">設定対象となるグラフ. 省略時は一番上のグラフ.</span>
		<span lang="en">The name of the graph. Default is the top graph.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">clrTab</span> <span class="type">[string]</span>:</span>
		<span lang="ja">カラーテーブルの名前. 各トレースが異なった色になる. 省略時は空.</span>
		<span lang="en">Name of a color table. Each trace is differently colored. Default is empty.</span>
	</dd>
	<dd>
		<span class="param"><span class="st op">clr</span> <span class="type">[STRUCT RGBColor]</span>:</span>
		<span lang="ja">色を構造体で指定する (clr.red, clr.green, clr.blue). 全トレースが同じ色になる. 省略時は黒 (clr.red = 0, clr.green = 0, clr.blue = 0).</span>
		<span lang="en">Specify a color by a structure (clr.red, clr.green, clr.blue). All traces are displayed in the same color. Default is black (clr.red = 0, clr.green = 0, clr.blue = 0).</span>
	</dd>
</dl>

<dl>
	<dt id="KMTraceOffset">KMTraceOffset([<span class="s op">grfName</span>, <span class="v op">xoffset</span>, <span class="v op">yoffset</span>, <span class="v op">fill</span>])</dt>
	<dd class="description">
		<span lang="ja">グラフ上の表示されているトレースが均等に並ぶようにオフセットを設定する.</span>
		<span lang="en">Set offset to displayed traces on a graph so that each trace is equally shifted to next.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">grfName</span> <span class="type">[string]</span>:</span>
		<span lang="ja">設定対象となるグラフ. 省略時は一番上のグラフ.</span>
		<span lang="en">The name of the graph. Default is the top graph.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">xoffset</span>, <span class="v op">yoffset</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">x, yオフセット値. 省略時はグラフにコントロールバーを表示する.</span>
		<span lang="en">The value of offset in x and y directions. When one of them is omitted, a control bar is displayed on the graph.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">fill</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">陰線処理する(1), しない(0). 省略時は0.</span>
		<span lang="en">Eliminate hidden lines, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMWavesStats">KMWavesStats(<span class="w">w</span>, [<span class="s op">result</span>, <span class="v op">stats</span>, <span class="v op">mode</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">3Dウエーブ・1Dウエーブの集合について各種統計量を計算する.</span>
		<span lang="en">Get statistics about a 3D wave or a set of 1D waves.</span>
	</dd>
	<dd>
		<span class="param"><span class="w">w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となるウエーブ(1D/3D). 1Dの場合は、指定されたウエーブと同じデータフォルダにある同じサイズのウエーブの集合を対象とする. 1Dウエーブへの参照を持つウエーブでもよい. その場合は、参照されるウエーブは全て同じデータ点数を持つこと.</span>
		<span lang="en">The source wave (1D/3D). When this is a 1D wave, get statistics about waves which have the same size and in the same datafolder. A reference wave referring to 1D waves is also accepted. All the 1D waves must have the same number of data points.</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">result</span> <span class="type">[string]</span>:</span>
		<span lang="ja">結果ウエーブの名前, <span class="s op">result</span>+&#34;_avg&#34;, &#34;_sdev&#34;, &#34;_skew&#34;, &#34;_kurt&#34;になる. 省略時は、入力が1Dウエーブなら、そのウエーブがあるデータフォルダの名前、3Dウエーブならそのウエーブの名前.</span>
		<span lang="en">The name of the destination wave. The actual name is <span class="s op">result</span>+&#34;_avg&#34;, &#34;_sdev&#34;, &#34;_skew&#34;, and &#34;_kurt&#34;
. Default is the name of the datafolder where the source wave is (1D), and the name of the source wave (3D).</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">stats</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">求める統計量. bit 0: 平均, bit 1: 標準偏差, bit 2: 歪度, bit 3: 尖度. 省略時は1</span>
		<span lang="en">Statistics to be computed. bit 0: average, bit 1: standard deviation, bit 2: skewness, bit 3: kurtosis. Default is 1.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">mode</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">3次元ウエーブについて計算をする方向. 0: x と y, 1: z. 省略時は0</span>
		<span lang="en">Dimension of a 3D wave to be computed. 0: x and y, 1: z. Default is 0.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">履歴欄にコマンドを出力する(1), しない(0), 省略時は0</span>
		<span lang="en">Print this command in the history area, yes (1), no (0). Default is 0.</span>
	</dd>
</dl>

<dl>
	<dt id="KMWorkfunction">KMWorkfunction(<span class="w">w</span>, [<span class="s op">result</span>, <span class="v op">startp</span>, <span class="v op">endp</span>, <span class="v op">offset</span>, <span class="v op">history</span>])</dt>
	<dd class="description">
		<span lang="ja">仕事関数を計算する</span>
		<span lang="en">Compute work function</span>
	</dd>
	<dd>
		<span class="param"><span class="w">w</span> <span class="type">[wave]</span>:</span>
		<span lang="ja">実行対象となるウエーブ(1D/3D).</span>
		<span lang="en">The source wave (1D/3D).</span>
	</dd>
	<dd>
		<span class="param"><span class="s op">result</span> <span class="type">[string]</span>:</span>
		<span lang="ja">結果ウエーブの名前. <span class="s op">result</span>+&#34;_a&#34;, &#34;_off&#34;, &#34;_wf&#34;になる.</span>
		<span lang="en">The name of the destination wave. The actual name is <span class="s op">result</span>+&#34;_a&#34;, &#34;_off&#34;, and &#34;_wf&#34;.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">startp</span>, <span class="v op">endp</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">フィッティング開始・終了点. 入力ウエーブが3Dの場合には、これらの数字はレイヤーのインデックスになる. 省略時は0及び最終点.</span>
		<span lang="en">The starting and the ending points of fit. For a 3D source wave, these parameters are the layer indexes. Default is 0 and the last point.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">offset</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">電流オフセット(プリアンプのオフセット). 省略時はこれもフィッティングパラメータになる.</span>
		<span lang="en">The current offset (the offset of the preamp). This parameter is also a fitting parameter when this is omitted.</span>
	</dd>
	<dd>
		<span class="param"><span class="v op">history</span> <span class="type">[variable]</span>:</span>
		<span lang="ja">
			bit 0: 履歴欄にコマンドを出力する(1), しない(0).<br />
			bit 1: 入力ウエーブが1Dの時に結果を履歴欄に出力する(1), しない(0).<br />
			省略時は2.
		</span>
		<span lang="en">
			bit 0: Print this command in the history area, yes (1), no (0).<br />
			bit 1: Print results in the history area when the source wave is 1D, yes (1), no (0).<br />
			Default is 2.
		</span>
	</dd>
</dl>

</div>

<div id="language">
	<span lang="ja">日本語</span> / <span lang="en">English</span>
</div>

<ul id="menu">
	<li><a href="#KMColor">KMColor</a></li>
	<li><a href="#KMCorrelation">KMCorrelation</a></li>
	<li><a href="#KMDisplay">KMDisplay</a></li>
	<li><a href="#KMFFT">KMFFT</a></li>
	<li><a href="#KMFilter">KMFilter</a></li>
	<li><a href="#KMFourierSym">KMFourierSym</a></li>
	<li><a href="#KMHistogram">KMHistogram</a></li>
	<li><a href="#KMLineProfile">KMLineProfile</a></li>
	<li><a href="#KMLineSpectra">KMLineSpectra</a></li>
	<li><a href="#KMLoadData">KMLoadData</a></li>
	<li><a href="#KMRange">KMRange</a></li>
	<!--<li><a href="#KMScatter">KMScatter</a></li>-->
	<li><a href="#KMSubtraction">KMSubtraction</a></li>
	<li><a href="#KMSyncAxisRange">KMSyncAxisRange</a></li>
	<li><a href="#KMSyncCursor">KMSyncCursor</a></li>
	<li><a href="#KMSyncLayer">KMSyncLayer</a></li>
	<li><a href="#KMTraceColor">KMTraceColor</a></li>
	<li><a href="#KMTraceOffset">KMTraceOffset</a></li>
	<li><a href="#KMWavesStats">KMWavesStats</a></li>
	<li><a href="#KMWorkfunction">KMWorkfunction</a></li>
</ul>

</body>

</html>
